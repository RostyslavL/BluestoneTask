(this.webpackJsonpbluestone_task=this.webpackJsonpbluestone_task||[]).push([[0],{70:function(e,t,c){},71:function(e,t,c){},99:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(20),r=c.n(n),s=(c(70),c(71),c(101)),i=c(107),j=c(108),o=c(45),l=c(1),d=function(){return Object(l.jsx)("header",{children:Object(l.jsxs)(i.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:[Object(l.jsx)("img",{src:"/img/nav_logo.png",width:"40",height:"40",className:"d-inline-block align-top ",alt:"nav-logo"}),Object(l.jsxs)(s.a,{children:[Object(l.jsx)(o.LinkContainer,{to:"/",children:Object(l.jsx)(i.a.Brand,{children:"Web App For BlueStone"})}),Object(l.jsx)(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(l.jsx)(i.a.Collapse,{id:"basic-navbar-nav",children:Object(l.jsxs)(j.a,{className:"ml-auto",children:[Object(l.jsx)(o.LinkContainer,{to:"/cart",children:Object(l.jsxs)(j.a.Link,{children:[Object(l.jsx)("i",{className:"fas fa-shopping-cart"})," Cart"]})}),Object(l.jsx)(o.LinkContainer,{to:"/login",children:Object(l.jsxs)(j.a.Link,{children:[Object(l.jsx)("i",{className:"fas fa-user"})," Sign In"]})})]})})]})]})})},b=c(102),u=c(63),h=function(){return Object(l.jsx)("footer",{children:Object(l.jsx)(s.a,{children:Object(l.jsx)(b.a,{children:Object(l.jsx)(u.a,{className:"text-center py-3",children:"Copyright \xa9 by RL for Bluestone Task"})})})})},O=c(16),p=c(110),x=c(103),m=c(8),f=function(e){var t=e.product,c=Object.values(t.images);return Object(l.jsx)(l.Fragment,{children:t.images.length>0?Object.values(t.images).map((function(e){return e.url})).flatMap((function(e){return Object(l.jsxs)(p.a,{className:"my-3 p-4 rounded",children:[Object(l.jsx)("h1",{children:Object(l.jsx)("strong",{children:t.name.toUpperCase()})}),Object(l.jsx)(p.a.Img,{src:e,variant:"top"}),Object(l.jsx)(p.a.Body,{children:Object(l.jsxs)(p.a.Title,{as:"div",children:[Object(l.jsx)(m.Link,{to:"/products/".concat(t._id),children:Object(l.jsx)("strong",{children:t.name.toUpperCase()})}),Object(l.jsx)("hr",{}),Object(l.jsx)(m.Link,{to:"/products/".concat(t._id),children:Object(l.jsxs)(x.a,{className:"btn-block btn-dark ",type:"button",disabled:0===c,children:[" Go To \xa0",Object(l.jsx)("i",{className:"fas fa-arrow-alt-circle-right"})]})})]})})]})})):Object(l.jsxs)(p.a,{className:"my-3 p-4 rounded",children:[Object(l.jsx)("h1",{children:Object(l.jsx)("strong",{children:0===Object.values(t.images).length?"No Avialable":t.name.toUpperCase()})}),Object(l.jsx)(p.a.Img,{src:"./img/sample.jpg",variant:"top"}),Object(l.jsx)(p.a.Body,{children:Object(l.jsxs)(p.a.Title,{as:"div",children:[Object(l.jsx)("strong",{children:t.name.toUpperCase()}),Object(l.jsx)("hr",{}),Object(l.jsxs)(x.a,{className:"btn-block btn-dark ",type:"button",disabled:!0,children:[" Go To \xa0",Object(l.jsx)("i",{className:"fas fa-arrow-alt-circle-right"})]})]})})]})})},g=c(104),v=function(){return Object(l.jsx)(g.a,{animation:"border",size:"xlg",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(l.jsx)("span",{className:"sr-only",children:" Loading..."})})},y=c(24),k=c.n(y),I=c(31),C="PRODUCT_LIST_REQUEST",S="PRODUCT_LIST_SUCCESS",N="PRODUCT_LIST_FAIL",L="PRODUCT_DETAILS_REQUEST",w="PRODUCT_DETAILS_SUCCESS",T="PRODUCT_DETAILS_FAIL",E=c(32),_=c.n(E),D="http://localhost:8000",P=c(109),A=function(e){var t=e.variant,c=e.children;return Object(l.jsxs)(P.a,{variant:t,children:[Object(l.jsxs)(P.a.Heading,{children:[" ",Object(l.jsxs)("h2",{children:[" ",t," "]})," "]}),Object(l.jsx)("hr",{}),Object(l.jsx)("p",{className:"mb-0",children:c})]})};A.defaultProps={variant:"info"};var R=A,U=function(){var e=Object(O.c)((function(e){return e.productList})),t=e.loading,c=e.error,n=e.products,r=Object(O.b)();return Object(a.useEffect)((function(){r(function(){var e=Object(I.a)(k.a.mark((function e(t){var c,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:C}),e.next=4,_.a.get("".concat(D,"/products"));case 4:c=e.sent,a=c.data,t({type:S,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:N,payload:e.t0.responce&&e.t0.responce.data.message?e.t0.responce.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[r]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Products"}),t?Object(l.jsx)(v,{}):c?Object(l.jsx)(R,{variant:"danger",children:c}):Object(l.jsx)(b.a,{children:n&&n.length>0&&n.map((function(e){return Object(l.jsx)(u.a,{sm:8,md:6,lg:4,xlg:3,children:Object(l.jsx)(f,{product:e})},e._id)}))})]})},B=c(12),F=c(106),G=function(e){var t=e.children;return Object(l.jsx)(s.a,{children:Object(l.jsx)(b.a,{className:"justify-content-md-center",children:Object(l.jsx)(u.a,{xs:12,md:6,children:t})})})},M=function(){var e=Object(a.useState)(""),t=Object(B.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(B.a)(r,2),i=s[0],j=s[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.Link,{className:"btn btn-dark btn-sm my-3",to:"/",children:Object(l.jsx)("i",{className:"fas fa-arrow-alt-circle-left",children:" Go Back To Home Page"})}),Object(l.jsxs)(G,{children:[Object(l.jsx)("h1",{children:"Sign In"}),Object(l.jsxs)(F.a,{onSubmit:function(e){e.preventDefault()},children:[Object(l.jsxs)(F.a.Group,{controlId:"email",children:[Object(l.jsx)(F.a.Label,{children:"Email Address"}),Object(l.jsx)(F.a.Control,{type:"email",placeholder:"Enter email",value:c,onChange:function(e){return n(e.target.value)}})]}),Object(l.jsxs)(F.a.Group,{controlId:"password",children:[Object(l.jsx)(F.a.Label,{children:"Password"}),Object(l.jsx)(F.a.Control,{type:"password",placeholder:"Enter password",value:i,onChange:function(e){return j(e.target.value)}})]}),Object(l.jsx)(x.a,{type:"submit",variant:"dark",size:"sm",block:!0,children:"Sign In"})]}),Object(l.jsx)(b.a,{className:"py-3",children:Object(l.jsxs)(u.a,{children:["New Customer?"," ",Object(l.jsx)(m.Link,{to:"/register",children:"Register"})]})})]})]})},J=function(e){e.location,e.history;var t=Object(a.useState)(""),c=Object(B.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(""),i=Object(B.a)(s,2),j=i[0],o=i[1],d=Object(a.useState)(""),h=Object(B.a)(d,2),O=h[0],p=h[1],f=Object(a.useState)(""),g=Object(B.a)(f,2),v=g[0],y=g[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.Link,{className:"btn btn-dark btn-sm my-3",to:"/",children:Object(l.jsx)("i",{className:"fas fa-arrow-alt-circle-left",children:" Go Back To Home Page"})}),Object(l.jsxs)(G,{children:[Object(l.jsx)("h1",{children:"Sign Up"}),Object(l.jsxs)(F.a,{onSubmit:function(e){e.preventDefault()},children:[Object(l.jsxs)(F.a.Group,{controlId:"name",children:[Object(l.jsx)(F.a.Label,{children:" Name "}),Object(l.jsx)(F.a.Control,{type:"name",placeholder:"Enter your user name",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(l.jsxs)(F.a.Group,{controlId:"email",children:[Object(l.jsx)(F.a.Label,{children:"Email Address"}),Object(l.jsx)(F.a.Control,{type:"email",placeholder:"Enter email",value:j,onChange:function(e){return o(e.target.value)}})]}),Object(l.jsxs)(F.a.Group,{controlId:"password",children:[Object(l.jsx)(F.a.Label,{children:"Password"}),Object(l.jsx)(F.a.Control,{type:"password",placeholder:"Enter password",value:O,onChange:function(e){return p(e.target.value)}})]}),Object(l.jsxs)(F.a.Group,{controlId:"confirmPassword",children:[Object(l.jsx)(F.a.Label,{children:" Confirm Password "}),Object(l.jsx)(F.a.Control,{type:"password",placeholder:"Confirm your password",value:v,onChange:function(e){return y(e.target.value)}})]}),Object(l.jsx)(x.a,{type:"submit",variant:"dark",size:"sm",block:!0,children:"Register"})]}),Object(l.jsx)(b.a,{className:"py-3",children:Object(l.jsxs)(u.a,{children:["Have an Account ? "," ",Object(l.jsx)(m.Link,{to:"/login",children:"Login"})]})})]})]})},q=c(27),z=c(105),H=c(111),Q=c(60),W=function(e){var t=e.history,c=e.match,n=Object(O.b)(),r=Object(O.c)((function(e){return e.productDetails})),s=r.loading,i=r.error,j=r.product;Object(a.useEffect)((function(){var e;n((e=c.params.id,function(){var t=Object(I.a)(k.a.mark((function t(c){var a,n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:L}),t.next=4,_.a.get("".concat(D,"/products/").concat(e));case 4:a=t.sent,n=a.data,c({type:w,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:T,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[n,c]);var o=j.images,d=Object(a.useState)(!1),h=Object(B.a)(d,2),f=h[0],g=h[1],y=Object(a.useState)(1),C=Object(B.a)(y,2),S=C[0],N=C[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.Link,{className:"btn btn-dark btn-sm my-3",to:"/",children:Object(l.jsx)("i",{className:"fas fa-arrow-alt-circle-left",children:" Go Back "})}),Object(l.jsxs)("h1",{children:["Product Name: ",j.name]}),Object(l.jsxs)("h2",{children:["Prouct ID : ",Object(l.jsx)("b",{children:j._id})," "]}),s?Object(l.jsx)(v,{}):i?Object(l.jsx)(R,{variant:"danger",children:i}):Object(l.jsxs)(b.a,{children:[Object(l.jsx)(u.a,{md:6,children:o?Object.values(o).map((function(e){return e.url})).flatMap((function(e){return Object(l.jsx)(z.a,{src:e,alt:j.name,fluid:!0})})):Object(l.jsx)(z.a,{src:"sample.jpg",alt:j.name,fluid:!0})}),Object(l.jsx)(u.a,{md:3,children:Object(l.jsxs)(H.a,{variant:"flush",children:[Object(l.jsxs)(H.a.Item,{children:[Object(l.jsx)("h3",{children:" Product Name : "})," ",Object(l.jsx)("i",{children:j.name})]}),Object(l.jsxs)(H.a.Item,{children:[Object(l.jsx)("h3",{children:" Product Number :"})," ",Object(l.jsx)("i",{children:j.number})]}),Object(l.jsxs)(H.a.Item,{children:[Object(l.jsx)(x.a,{className:"btn btn-dark btn-lg my-3",onClick:function(){return g(!f)},"aria-controls":"description-collapse-text","aria-expanded":f,children:"Description"}),Object(l.jsx)(Q.a,{in:f,children:Object(l.jsx)("div",{id:"description-collapse-text",children:Object(l.jsx)("h4",{children:Object(l.jsx)("i",{children:j.description})})})})]})]})}),Object(l.jsx)(u.a,{md:3,children:Object(l.jsx)(p.a,{children:Object(l.jsxs)(H.a,{variant:"flush",children:[Object(l.jsx)(H.a.Item,{children:Object(l.jsxs)(b.a,{children:[Object(l.jsx)(u.a,{children:"Status:"}),Object(l.jsx)(u.a,{children:j.id>0?"In Stock":"Out Of Stock"})]})}),Object(l.jsx)(H.a.Item,{children:Object(l.jsxs)(b.a,{children:[Object(l.jsx)(u.a,{children:"Qty"}),Object(l.jsx)(u.a,{children:Object(l.jsx)(F.a.Control,{as:"select",value:S,onChange:function(e){return N(e.target.value)},children:Object(q.a)(Array(j.id).keys()).map((function(e){return Object(l.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(l.jsx)(H.a.Item,{children:Object(l.jsx)(x.a,{onClick:function(){t.push("/cart/".concat(c.params.id,"?qty=").concat(S))},className:"btn-block btn-dark ",type:"button",disabled:0===j.id,children:"Add To Cart"})})]})})})]})]})},V="CART_ADD_ITEM",Y="CART_REMOVE_ITEM",$=function(e,t){return function(){var c=Object(I.a)(k.a.mark((function c(a,n){var r,s;return k.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat("http://localhost:8000","/products/").concat(e));case 2:r=c.sent,s=r.data,a({type:V,payload:{product:s._id,name:s.name,images:s.images,number:s.number,description:s.description,countInStock:s.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},K=function(e){var t=e.match,c=e.location,n=t.params.id,r=c.search?Number(c.search.split("=")[1]):1,s=Object(O.b)(),i=Object(O.c)((function(e){return e.cart})).cartItems;Object(a.useEffect)((function(){n&&s($(n,r))}),[s,n,r]);var j=function(e){s(function(e){return function(t,c){t({type:Y,payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))}}(e))},o=Object(a.useState)(!1),d=Object(B.a)(o,2),h=d[0],f=d[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.Link,{className:"btn btn-dark btn-sm my-3",to:"/products/".concat(n),children:Object(l.jsx)("i",{className:"fas fa-arrow-alt-circle-left",children:" Go Back "})}),Object(l.jsxs)(b.a,{children:[Object(l.jsxs)(u.a,{md:8,children:[Object(l.jsx)("h1",{children:" Shopping Cart "}),0===i.length?Object(l.jsxs)(R,{variant:"warning",children:["Your Cart is Empty",Object(l.jsx)(m.Link,{to:"/",children:" Go Back "})]}):Object(l.jsx)(H.a,{variant:"fulsh",children:i.map((function(e){return Object(l.jsx)(H.a.Item,{children:Object(l.jsxs)(b.a,{children:[Object(l.jsx)(u.a,{md:2,children:e.images.map((function(e){return e.url})).flatMap((function(t){return Object(l.jsx)(z.a,{src:t,alt:e.name,fluid:!0,rounded:!0})}))}),Object(l.jsx)(u.a,{md:3,children:Object(l.jsxs)(m.Link,{to:"/products/".concat(e.product),children:[" ",Object(l.jsx)("h1",{children:Object(l.jsx)("strong",{children:e.name.toUpperCase()})})]})}),Object(l.jsxs)(u.a,{md:2,children:["$ ",e.price]}),Object(l.jsx)(u.a,{md:2,children:Object(l.jsx)(F.a.Control,{as:"select",size:"md",value:e.qty,custom:!0,onChange:function(t){return s($(e.product,Number(t.target.value)))},children:Object(q.a)(Array(e.countInStock).keys()).map((function(e){return Object(l.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(l.jsx)(u.a,{md:2,children:Object(l.jsx)(x.a,{type:"button",variant:"dark",onClick:function(){return j(e.product)},children:Object(l.jsx)("i",{className:"fas fa-trash"})})}),Object(l.jsxs)(u.a,{md:2,children:[Object(l.jsx)(x.a,{className:"btn btn-dark btn-lg my-3",onClick:function(){return f(!h)},"aria-controls":"description-collapse-text","aria-expanded":h,children:"Description"}),Object(l.jsx)(Q.a,{in:h,children:Object(l.jsx)("div",{id:"description-collapse-text",children:Object(l.jsx)("h4",{children:Object(l.jsx)("i",{children:e.description})})})})]})]})},e.product)}))})]}),Object(l.jsx)(u.a,{md:4,children:Object(l.jsx)(p.a,{className:"my-5",children:Object(l.jsx)(H.a,{variant:"flush",children:Object(l.jsx)(H.a.Item,{children:Object(l.jsxs)("h2",{children:[" Subtotal (",i.reduce((function(e,t){return e+t.qty}),0),") items"]})})})})})]})]})},X=c(6);var Z=function(){return Object(l.jsxs)(m.BrowserRouter,{children:[Object(l.jsx)(d,{}),Object(l.jsx)("main",{className:"py-3",children:Object(l.jsxs)(s.a,{children:[Object(l.jsx)(X.d,{path:"/",component:U,exact:!0}),Object(l.jsx)(X.d,{path:"/products/:id",component:W}),Object(l.jsx)(X.d,{path:"/login",component:M}),Object(l.jsx)(X.d,{path:"/register",component:J}),Object(l.jsx)(X.d,{path:"/cart/:id?",component:K})]})}),Object(l.jsx)(h,{})]})},ee=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,112)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))},te=c(34),ce=c(64),ae=c(65),ne=c(18),re=Object(te.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0,products:[]};case S:return{loading:!1,products:t.payload};case N:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(ne.a)(Object(ne.a)({},e),{},{loading:!0});case w:return{loading:!1,product:t.payload};case T:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:var c=t.payload,a=e.cartItems.find((function(e){return e.product===c.product}));return a?Object(ne.a)(Object(ne.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===a.product?c:e}))}):Object(ne.a)(Object(ne.a)({},e),{},{cartItems:[].concat(Object(q.a)(e.cartItems),[c])});case Y:return Object(ne.a)(Object(ne.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});default:return e}}}),se={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]}},ie=[ce.a],je=Object(te.createStore)(re,se,Object(ae.composeWithDevTools)(te.applyMiddleware.apply(void 0,ie)));r.a.render(Object(l.jsx)(O.a,{store:je,children:Object(l.jsx)(Z,{})}),document.getElementById("root")),ee()}},[[99,1,2]]]);
//# sourceMappingURL=main.db392b8c.chunk.js.map